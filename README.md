# Telegram Greeting Bot

Простой Telegram бот для регистрации поздравлений. Бот имеет функционал администратора для редактирования фраз и работает на фреймворке aiogram 3.

## Описание

Бот предназначен для:
- Сбора данных о получателе поздравления (имя, поздравление)
- Сохранения поздравлений в чат
- Администрирования

## Технологический стек

- **Python 3.11** - язык программирования
- **aiogram 3.20** - фреймворк для работы с Telegram Bot API
- **Docker & Docker Compose** - контейнеризация и оркестрация
- **python-dotenv** - управление переменными окружения

## Структура проекта

```
├── bot.py                  # Точка входа приложения
├── config.py              # Конфигурация и переменные окружения
├── create_bot.py          # Инициализация бота и диспетчера
├── requirements.txt       # Зависимости проекта
├── Dockerfile            # Конфигурация Docker контейнера
├── docker-compose.yml    # Оркестрация контейнеров
├── handlers/             # Обработчики команд и сообщений
│   ├── start.py         # Обработчик команды /start
│   └── admin.py         # Административные функции
├── keyboards/            # Кнопки и клавиатуры
│   ├── keyboards.py     # Основные клавиатуры
│   └── admin_keyboards.py # Административные клавиатуры
├── middleware/           # Middleware для обработки запросов
│   └── jsonParser.py    # Парсер JSON данных
├── filters/              # Фильтры обработки сообщений
│   └── chat_types.py    # Фильтры по типам чатов
├── db/                   # Работа с базой данных
│   └── queries.py       # SQL запросы
└── static/               # Статические файлы
    └── phrases.json     # Шаблоны сообщений
```

## Установка и запуск

### Локально

1. **Клонируйте репозиторий:**
```bash
git clone <repository-url>
cd "Telegram Bot"
```

2. **Создайте виртуальное окружение:**
```bash
python -m venv venv
venv\Scripts\activate  # Windows
```

3. **Установите зависимости:**
```bash
pip install -r requirements.txt
```

4. **Создайте файл `.env` с переменными окружения:**
```env
TOKEN=your_telegram_bot_token
ADMINS=admin_id_1,admin_id_2
DB_PASSWORD=your_db_password
DB_NAME=your_database_name
```

5. **Запустите бота:**
```bash
python bot.py
```

### Docker

1. **Создайте `.env` файл** (см. выше)

2. **Соберите и запустите контейнеры:**
```bash
docker-compose up --build
```

Бот автоматически запустится и будет работать в фоне.

## Конфигурация

Переменные окружения в файле `.env`:

| Переменная | Описание |
|-----------|---------|
| `TOKEN` | Токен Telegram бота (получить у @BotFather) |
| `ADMINS` | ID администраторов (через запятую) |
| `DB_PASSWORD` | Пароль для подключения к MySQL |
| `DB_NAME` | Имя базы данных |

## Команды бота

- `/start` - начало работы с ботом, сбор данных
- `/admin` - (доступны только для администраторов)


## Требования

- Python 3.11+
- MySQL 5.7+ (при локальном запуске)
- Docker & Docker Compose (для контейнеризированного запуска)

## Лицензия

MIT

## Контактная информация

Проект находится в разработке (ветка `dev`).
